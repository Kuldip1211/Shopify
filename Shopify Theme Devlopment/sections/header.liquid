<!-- 🧭 Global Header Section -->
<nav id="Home-page-header-section" class="site-header">
  <div class="header-container">
    <!-- 🏷️ Left: Shop Title -->
    <div class="logo">
      <a href="{{ routes.root_url }}">{{ shop.name }}</a>
    </div>

    <!-- 🧭 Center: Navigation Links -->
    <ul class="nav-links" id="navLinks">
      {% for link in linklists['main-menu'].links %}
        <li>
          <a href="{{ link.url }}">{{ link.title }}</a>
        </li>
      {% endfor %}
    </ul>

    <!-- 🛒 Right: Profile & Cart Icons -->
    <div class="header-icons">
      <!-- 👤 Profile / Auth Dropdown -->
      <div class="profile-dropdown">
        <button class="icon-link profile-btn" id="profileBtn">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="12" cy="7" r="4"/>
            <path d="M5.5 21a7.5 7.5 0 0 1 13 0"/>
          </svg>
        </button>

        <!-- 📋 Dropdown Menu -->
        <div class="profile-menu" id="profileMenu">
          {% if customer %}
            <!-- 🧍 If user is logged in -->
            <a href="/account" class="menu-item full-row">👤 {{ customer.first_name | default: 'My Profile' }}</a>

            <div class="menu-row">
              <a href="/account/orders" class="menu-item flex-btn">📦 My Orders</a>
              <a href="/account/logout" class="menu-item flex-btn logout">🚪 Logout</a>
            </div>

          {% else %}
            <!-- 🚪 If user is not logged in -->
            <a href="/account/login" class="menu-item full-row">🔑 Login</a>

            <div class="menu-row">
              <a href="/account/register" class="menu-item flex-btn">🪴 Register</a>
            </div>
          {% endif %}
        </div>
      </div>

      <!-- 🛒 Cart Icon with Count Badge -->
      <a href="/cart" class="icon-link cart-link">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="icon"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <circle cx="9" cy="21" r="1"/>
          <circle cx="20" cy="21" r="1"/>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
        <span id="cart-count" class="cart-count-badge">{{ cart.item_count }}</span>
      </a>

      <!-- 🍔 Mobile Menu -->
      <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    </div>
  </div>
</nav>

{% schema %}
{
  "name": "Header",
  "settings": [],
  "presets": [{ "name": "Default Header" }]
}
{% endschema %}